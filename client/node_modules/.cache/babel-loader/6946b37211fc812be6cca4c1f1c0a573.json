{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\src\\\\CourseList.js\";\nimport React, { Component } from 'react';\nimport { gql } from 'apollo-boost';\nimport { graphql } from 'react-apollo';\nimport { getColleges, deleteCourse, getCourseQuery, addCourse, getOneCourseQuery } from './queries/queries';\nimport CourseDetails from './CourseDetails';\nimport { flowRight as compose } from 'lodash';\n\nclass CourseList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: null\n    };\n    this.onDelete = this.onDelete.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick(e) {\n    this.setState({\n      selected: e.target.id\n    });\n  }\n\n  onDelete(e) {\n    if (e.target.id === this.state.selected) {\n      this.setState({\n        selected: \"null\"\n      });\n    }\n\n    console.log(this.state.selected);\n    this.props.deleteCourse({\n      variables: {\n        id: `${e.target.id}`\n      },\n      refetchQueries: [{\n        query: getOneCourseQuery\n      }, {\n        query: getCourseQuery\n      }]\n    });\n    this.displayCourse();\n  }\n\n  displayCourse() {\n    console.log(data);\n    var data = this.props.getCourseQuery;\n\n    if (!data) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, \"loading ...\");\n    } else if (data.courses) {\n      return data.courses.map(course => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \" mx-auto py-1 border-bottom px-2 py-1 mt-1 white\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          id: course.id,\n          onClick: this.onClick,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 29\n          }\n        }, course.name), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"float-right fa fa-trash mt-1\",\n          id: course.id,\n          onClick: this.onDelete,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }\n        })));\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row  mx-0 p-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 col-sm-12 px-2  mt-5 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border p-2 \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, this.displayCourse())), /*#__PURE__*/React.createElement(CourseDetails, {\n      Id: this.state.selected !== null ? this.state.selected : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default compose(graphql(deleteCourse, {\n  name: \"deleteCourse\"\n}), graphql(getCourseQuery, {\n  name: \"getCourseQuery\"\n}), graphql(getOneCourseQuery, {\n  name: \"getOneCourseQuery\"\n}), graphql(getColleges, {\n  name: \"getColleges\"\n}))(CourseList);","map":{"version":3,"sources":["C:/Users/Seun/Desktop/Apollo_Man/MyCourse/client/src/CourseList.js"],"names":["React","Component","gql","graphql","getColleges","deleteCourse","getCourseQuery","addCourse","getOneCourseQuery","CourseDetails","flowRight","compose","CourseList","constructor","props","state","selected","onDelete","bind","onClick","e","setState","target","id","console","log","variables","refetchQueries","query","displayCourse","data","courses","map","course","name","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { gql } from 'apollo-boost'\r\nimport { graphql } from 'react-apollo'\r\nimport { getColleges, deleteCourse, getCourseQuery, addCourse, getOneCourseQuery } from './queries/queries'\r\nimport CourseDetails from './CourseDetails'\r\nimport { flowRight as compose } from 'lodash'\r\n\r\n\r\n\r\nclass CourseList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selected: null\r\n        }\r\n        this.onDelete = this.onDelete.bind(this)\r\n        this.onClick = this.onClick.bind(this)\r\n    }\r\n    onClick(e) {\r\n        this.setState({ selected: e.target.id })\r\n    }\r\n    onDelete(e) {\r\n        if (e.target.id === this.state.selected) {\r\n            this.setState({\r\n                selected: \"null\"\r\n            })\r\n        }\r\n\r\n        console.log(this.state.selected)\r\n        this.props.deleteCourse({\r\n            variables: {\r\n                id: `${e.target.id}`\r\n            },\r\n            refetchQueries: [\r\n                { query: getOneCourseQuery },\r\n                { query: getCourseQuery },\r\n                \r\n            ]\r\n        })\r\n        this.displayCourse()\r\n    }\r\n    displayCourse() {\r\n        console.log(data)\r\n        var data = this.props.getCourseQuery;\r\n        if (!data) {\r\n            return (\r\n                <div>loading ...</div>\r\n            )\r\n        } else if (data.courses) {\r\n            return data.courses.map(course => {\r\n                return (\r\n                    <div className=\" mx-auto py-1 border-bottom px-2 py-1 mt-1 white\">\r\n                        <div>\r\n                            <span id={course.id} onClick={this.onClick}>\r\n                                {course.name}\r\n                            </span>\r\n                            <div className=\"float-right fa fa-trash mt-1\" id={course.id} onClick={this.onDelete}></div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"row  mx-0 p-0\">\r\n                <div className=\"col-md-6 col-sm-12 px-2  mt-5 \">\r\n                    <div className=\"border p-2 \">\r\n                        {this.displayCourse()}\r\n                    </div>\r\n                </div>\r\n                <CourseDetails Id={this.state.selected !== null ? this.state.selected : null} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default compose(\r\n    graphql(deleteCourse, { name: \"deleteCourse\" }),\r\n    graphql(getCourseQuery, { name: \"getCourseQuery\" }),\r\n    graphql(getOneCourseQuery, { name: \"getOneCourseQuery\" }),\r\n    graphql(getColleges, { name: \"getColleges\" })\r\n)(CourseList)"]},"metadata":{},"sourceType":"module"}