{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Seun\\\\Desktop\\\\Apollo_Man\\\\MyCourse\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{gql}from'apollo-boost';import{graphql}from'react-apollo';import{getColleges,deleteCourse,getCourseQuery,addCourse,getOneCourseQuery}from'./queries/queries';import CourseDetails from'./CourseDetails';import{flowRight as compose}from'lodash';var CourseList=/*#__PURE__*/function(_Component){_inherits(CourseList,_Component);var _super=_createSuper(CourseList);function CourseList(props){var _this;_classCallCheck(this,CourseList);_this=_super.call(this,props);_this.state={selected:null};_this.onDelete=_this.onDelete.bind(_assertThisInitialized(_this));_this.onClick=_this.onClick.bind(_assertThisInitialized(_this));return _this;}_createClass(CourseList,[{key:\"onClick\",value:function onClick(e){this.setState({selected:e.target.id});}},{key:\"onDelete\",value:function onDelete(e){if(e.target.id===this.state.selected){this.setState({selected:\"null\"});}console.log(this.state.selected);this.props.deleteCourse({variables:{id:\"\".concat(e.target.id)},refetchQueries:[{query:getOneCourseQuery},{query:getCourseQuery}]});this.displayCourse();}},{key:\"displayCourse\",value:function displayCourse(){var _this2=this;console.log(data);var data=this.props.getCourseQuery;if(!data){return/*#__PURE__*/React.createElement(\"div\",null,\"loading ...\");}else if(data.courses){return data.courses.map(function(course){return/*#__PURE__*/React.createElement(\"div\",{className:\" mx-auto py-1 border-bottom px-2 py-1 mt-1 white\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{id:course.id,onClick:_this2.onClick},course.name),/*#__PURE__*/React.createElement(\"div\",{className:\"float-right fa fa-trash mt-1\",id:course.id,onClick:_this2.onDelete})));});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"row  mx-0 p-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-sm-12 px-2  mt-5 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"border p-2 \"},this.displayCourse())),/*#__PURE__*/React.createElement(CourseDetails,{Id:this.state.selected!==null?this.state.selected:null}));}}]);return CourseList;}(Component);export default compose(graphql(deleteCourse,{name:\"deleteCourse\"}),graphql(getCourseQuery,{name:\"getCourseQuery\"}),graphql(getOneCourseQuery,{name:\"getOneCourseQuery\"}),graphql(getColleges,{name:\"getColleges\"}))(CourseList);","map":{"version":3,"sources":["C:/Users/Seun/Desktop/Apollo_Man/MyCourse/client/src/CourseList.js"],"names":["React","Component","gql","graphql","getColleges","deleteCourse","getCourseQuery","addCourse","getOneCourseQuery","CourseDetails","flowRight","compose","CourseList","props","state","selected","onDelete","bind","onClick","e","setState","target","id","console","log","variables","refetchQueries","query","displayCourse","data","courses","map","course","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { gql } from 'apollo-boost'\r\nimport { graphql } from 'react-apollo'\r\nimport { getColleges, deleteCourse, getCourseQuery, addCourse, getOneCourseQuery } from './queries/queries'\r\nimport CourseDetails from './CourseDetails'\r\nimport { flowRight as compose } from 'lodash'\r\n\r\n\r\n\r\nclass CourseList extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            selected: null\r\n        }\r\n        this.onDelete = this.onDelete.bind(this)\r\n        this.onClick = this.onClick.bind(this)\r\n    }\r\n    onClick(e) {\r\n        this.setState({ selected: e.target.id })\r\n    }\r\n    onDelete(e) {\r\n        if (e.target.id === this.state.selected) {\r\n            this.setState({\r\n                selected: \"null\"\r\n            })\r\n        }\r\n\r\n        console.log(this.state.selected)\r\n        this.props.deleteCourse({\r\n            variables: {\r\n                id: `${e.target.id}`\r\n            },\r\n            refetchQueries: [\r\n                { query: getOneCourseQuery },\r\n                { query: getCourseQuery },\r\n                \r\n            ]\r\n        })\r\n        this.displayCourse()\r\n    }\r\n    displayCourse() {\r\n        console.log(data)\r\n        var data = this.props.getCourseQuery;\r\n        if (!data) {\r\n            return (\r\n                <div>loading ...</div>\r\n            )\r\n        } else if (data.courses) {\r\n            return data.courses.map(course => {\r\n                return (\r\n                    <div className=\" mx-auto py-1 border-bottom px-2 py-1 mt-1 white\">\r\n                        <div>\r\n                            <span id={course.id} onClick={this.onClick}>\r\n                                {course.name}\r\n                            </span>\r\n                            <div className=\"float-right fa fa-trash mt-1\" id={course.id} onClick={this.onDelete}></div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"row  mx-0 p-0\">\r\n                <div className=\"col-md-6 col-sm-12 px-2  mt-5 \">\r\n                    <div className=\"border p-2 \">\r\n                        {this.displayCourse()}\r\n                    </div>\r\n                </div>\r\n                <CourseDetails Id={this.state.selected !== null ? this.state.selected : null} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default compose(\r\n    graphql(deleteCourse, { name: \"deleteCourse\" }),\r\n    graphql(getCourseQuery, { name: \"getCourseQuery\" }),\r\n    graphql(getOneCourseQuery, { name: \"getOneCourseQuery\" }),\r\n    graphql(getColleges, { name: \"getColleges\" })\r\n)(CourseList)"]},"metadata":{},"sourceType":"module"}