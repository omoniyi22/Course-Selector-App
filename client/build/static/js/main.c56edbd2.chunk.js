(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(e,t,n){e.exports=n(55)},43:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(14),l=n(15),r=n(17),o=n(16),c=n(1),s=n.n(c),i=(n(43),n(18)),u=n(56),m=n(20),d=n(13);function p(){var e=Object(m.a)(["\n    mutation($id: ID!){\n        deleteCourse(id: $id){\n            name\n        }\n    }\n"]);return p=function(){return e},e}function b(){var e=Object(m.a)(["\n    query($id: ID){\n        course(id: $id){\n            id\n            name\n            duration\n            college{\n                id\n                name\n                since\n                course{\n                    name\n                }\n            }\n        }\n    }\n"]);return b=function(){return e},e}function h(){var e=Object(m.a)(["\nmutation($name: String!,$duration:String! $collegeId: ID!){\n    addCourse(name: $name, duration: $duration, collegeId: $collegeId ){\n    name\n    id\n    }\n}\n"]);return h=function(){return e},e}function f(){var e=Object(m.a)(["\n{\n    colleges{\n        name\n        id\n    }\n}\n"]);return f=function(){return e},e}function g(){var e=Object(m.a)(["\n{\n    courses{\n        name\n        id\n    }\n}\n"]);return g=function(){return e},e}var v=Object(d.b)(g()),C=Object(d.b)(f()),E=Object(d.b)(h()),j=Object(d.b)(b()),O=Object(d.b)(p()),y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={null:null},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"displayCourseDetails",value:function(){console.log(this.props);var e=this.props.data.course;return null==this.props.Id||void 0==this.props.Id?s.a.createElement("div",null," No Course Selected Yet"):e&&null!=this.props.Id&&"null"!=this.props.Id&&!this.props.data.loading?s.a.createElement("div",{key:e.id},s.a.createElement("span",{className:"font-weight-bold"}," Name: ",e.name),s.a.createElement("span",{className:"ml-2 font-weight-bold"}," Duration: ",null==e.duration?0:e.duration),e.college.length>0&&e.college.map((function(t){return s.a.createElement(s.a.Fragment,null,"  ",s.a.createElement("span",{className:"ml-2 font-weight-bold"},"College: ",t.name),s.a.createElement("div",{className:"mt-2"},s.a.createElement("span",{className:"underline font-weight-bold mx-auto"},"List of courses offered in the University"),s.a.createElement("ol",{className:"mlist mb-2"},e.college[0].course!=[]&&e.college[0].course.map((function(e){return s.a.createElement("li",{className:"mt-1"},e.name)})))))}))):"null"==this.props.Id?s.a.createElement("div",null,"  Course has been deleted"):void 0}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-md-6 col-sm-12 mx-auto mt-5 py-3 content-justify-center course-details"},s.a.createElement("span",{className:"courses form CD mb-0"},this.displayCourseDetails()))}}]),n}(c.Component),N=Object(u.a)(j,{options:function(e){if(null!==e.Id)return{variables:{id:e.Id}}}})(y),k=n(24),I=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).state={selected:null},l.onDelete=l.onDelete.bind(Object(i.a)(l)),l.onClick=l.onClick.bind(Object(i.a)(l)),l}return Object(l.a)(n,[{key:"onClick",value:function(e){this.setState({selected:e.target.id})}},{key:"onDelete",value:function(e){e.target.id===this.state.selected&&this.setState({selected:"null"}),console.log(this.state.selected),this.props.deleteCourse({variables:{id:"".concat(e.target.id)},refetchQueries:[{query:j},{query:v}]}),this.displayCourse()}},{key:"displayCourse",value:function(){var e=this;console.log(t);var t=this.props.getCourseQuery;return t?t.courses?t.courses.map((function(t){return s.a.createElement("div",{className:" mx-auto py-1 border-bottom px-2 py-1 mt-1 white"},s.a.createElement("div",null,s.a.createElement("span",{id:t.id,onClick:e.onClick},t.name),s.a.createElement("div",{className:"float-right fa fa-trash mt-1",id:t.id,onClick:e.onDelete})))})):void 0:s.a.createElement("div",null,"loading ...")}},{key:"render",value:function(){return s.a.createElement("div",{className:"row  mx-0 p-0"},s.a.createElement("div",{className:"col-md-6 col-sm-12 px-2  mt-5 "},s.a.createElement("div",{className:"border p-2 "},this.displayCourse())),s.a.createElement(N,{Id:null!==this.state.selected?this.state.selected:null}))}}]),n}(c.Component),D=Object(k.flowRight)(Object(u.a)(O,{name:"deleteCourse"}),Object(u.a)(v,{name:"getCourseQuery"}),Object(u.a)(j,{name:"getOneCourseQuery"}),Object(u.a)(C,{name:"getColleges"}))(I),x=n(38),S=n.n(x),w=n(40),$=n(39),_=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var l;return Object(a.a)(this,n),(l=t.call(this,e)).state={course_name:"",duration:"",college_id:""},l.onChange=l.onChange.bind(Object(i.a)(l)),l.onSubmit=l.onSubmit.bind(Object(i.a)(l)),l}return Object(l.a)(n,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.addCourse({variables:{name:this.state.course_name,duration:this.state.duration,collegeId:this.state.college_id},refetchQueries:[{query:v}]})}},{key:"onChange",value:function(e){this.setState(Object($.a)({},e.target.name,"".concat([e.target.value])))}},{key:"displayCollege",value:function(){var e=this.props.getColleges;return e.loading?s.a.createElement("option",null,"loading colleges.."):e.colleges?e.colleges.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{key:e.id,value:e.id},e.name))})):void 0}},{key:"render",value:function(){return s.a.createElement("form",{onSubmit:this.onSubmit,className:" col-md-6 col-sm-12 "},s.a.createElement("div",{className:"form md-form"},s.a.createElement("label",null,"Course Name"),s.a.createElement("input",{type:"text",className:"form-control px-0",onChange:this.onChange,name:"course_name"})),s.a.createElement("div",{className:"md-form"},s.a.createElement("label",null,"Duration"),s.a.createElement("input",{type:"text",className:"form-control px-0",onChange:this.onChange,value:this.state.duration,name:"duration"})),s.a.createElement("div",{className:""},s.a.createElement("select",{className:"form-control px-0",name:"college_id",value:this.state.college_id,onChange:this.onChange},s.a.createElement("option",null,"Select Your College"),this.displayCollege())),s.a.createElement("button",{className:"btn rounded-pill p-2 border z-depth-0"},"Add",s.a.createElement("span",{className:"ml-1 fa fa-plus"})))}}]),n}(c.Component),q=Object(k.flowRight)(Object(u.a)(C,{name:"getColleges"}),Object(u.a)(E,{name:"addCourse"}))(_),Q=n(5),F=new d.a({uri:"hhttps://course4us.herokuapp.com/graphql"}),J=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return s.a.createElement(Q.b,{client:F},s.a.createElement("div",{className:"container"},s.a.createElement(D,null),s.a.createElement(q,null)))}}]),n}(c.Component);S.a.render(s.a.createElement(w.a,null,s.a.createElement(J,null)),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.c56edbd2.chunk.js.map